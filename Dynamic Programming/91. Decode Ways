class Solution {
public:
    int solve(string &s,int i,vector<int> &dp){
        if(i >= s.length()) return 1;
        if(s[i] == '0') return 0;
        if(dp[i] != -1) return dp[i];

        int ans = 0;
        string t;
        for(int j = i; j < s.length(); j++){
            t += s[j];
            if(stoi(t) > 26) break;
            ans += solve(s,j+1,dp);
        }
        return dp[i] = ans;
    }

    int numDecodings(string s) {
        vector<int> dp(s.length(),-1);
        return solve(s,0,dp);
    }
};
